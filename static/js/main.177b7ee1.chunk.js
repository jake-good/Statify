(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,a){t.exports=a(26)},18:function(t,e,a){},19:function(t,e,a){},20:function(t,e,a){},26:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),s=(a(18),a(1)),c=a(2),l=a(4),u=a(3),m=a(5),d=(a(19),a(20),function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={expanded:!1},t}return Object(m.a)(e,t),Object(c.a)(e,[{key:"toggle",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var t,e=this;if(this.state.expanded){var a="";for(var n in this.props.artist.genres)a+=this.props.artist.genres[n]+", ";t=r.a.createElement("div",{className:"expanded_artist"},r.a.createElement("section",{className:"img_box"},r.a.createElement("img",{src:this.props.artist.images[0].url})),r.a.createElement("div",{className:"artist_details"},r.a.createElement("h1",{id:"expanded_title"},this.props.artist.name),r.a.createElement("p",{id:"expand_details"},"Followers: ",this.props.artist.followers.total),r.a.createElement("p",{id:"expand_details"},"Genres: ",a)),r.a.createElement("a",{id:"spotify_link_button",href:this.props.artist.external_urls.spotify,target:"blank",title:"Go to artist's spotify page"},r.a.createElement("i",{className:"fa fa-spotify fa-2x"})))}else t=r.a.createElement("div",{className:"unexpanded_artist_title"},r.a.createElement("p",null,this.props.artist.name));return r.a.createElement("div",{className:"Artist",onClick:function(){return e.toggle()}},t)}}]),e}(r.a.Component)),p=a(6),f=a.n(p),h=a(8),g=a(7),b=a.n(g),v=new b.a;function _(){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(f.a.mark(function t(){var e,a,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"d8c9e8ca3c784898bdf939f51ff6136f",e=window.location.href,a=k(16),"spotify_auth_state",localStorage.setItem("spotify_auth_state",a),"user-top-read",n="https://accounts.spotify.com/authorize",n+="?response_type=token",n+="&client_id="+encodeURIComponent("d8c9e8ca3c784898bdf939f51ff6136f"),n+="&scope="+encodeURIComponent("user-top-read"),n+="&redirect_uri="+encodeURIComponent(e),n+="&state="+encodeURIComponent(a),window.location=n;case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function E(){return(E=Object(h.a)(f.a.mark(function t(e){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v.getMyTopArtists({time_range:e,limit:"50"}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function k(t){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}var w=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={},t}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"login_container"},r.a.createElement("h1",{id:"main_title"},"Statify"),r.a.createElement("p",{className:"login_info_text"},"This application uses your spotify user listening information to provide statistics on your top artists. Spotify's own login service is used for authentication. To find out your listening info click the button below and log in to your account."),r.a.createElement("button",{className:"login_button buttonDefault",onClick:_},"GO TO SPOTIFY LOGIN"))}}]),e}(r.a.Component),O=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).state={},t}return Object(m.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("footer",{id:"main_footer"},r.a.createElement("p",null,"Created by ",r.a.createElement("a",{href:"https://github.com/jake-good/Statify",target:"_blank",rel:"noreferrer noopener"},"Jake Good")),r.a.createElement("a",null,r.a.createElement("i",{className:"fa fa-github"})),r.a.createElement("a",null,r.a.createElement("i",{className:"fa fa-person"})))}}]),e}(r.a.Component),j=a(11),N=a.n(j),x=new b.a,C=function(t){function e(){var t;Object(s.a)(this,e);var a=(t=Object(l.a)(this,Object(u.a)(e).call(this))).getHashParams().access_token;return a&&x.setAccessToken(a),t.state={loggedIn:!!a,topArtists:[],nresults:"50",time_range:"short_term",loading:!1},t}return Object(m.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.getTopArtistData()}},{key:"getHashParams",value:function(){for(var t,e={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);t=a.exec(n);)e[t[1]]=decodeURIComponent(t[2]);return e}},{key:"getTopArtistData",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.time_range;this.state.loggedIn&&(this.setState({loading:!0}),function(t){return E.apply(this,arguments)}(this.state.time_range).then(function(e){t.setState({topArtists:e.items}),t.setState({loading:!1})}))}},{key:"buildArtists",value:function(){return this.state.topArtists.map(function(t){return r.a.createElement(d,{artist:t,key:t.id+Date.now()})})}},{key:"updateTimeRange",value:function(t){var e=this;this.setState({time_range:t},function(){return e.getTopArtistData()})}},{key:"logout",value:function(){window.location.hash="",this.setState({loggedIn:!1})}},{key:"render",value:function(){var t,e,a=this;return this.state.loggedIn?(t=this.buildArtists(this.state.expand_all),e=r.a.createElement("header",null,r.a.createElement("div",{className:"headerDiv"},r.a.createElement("h1",{id:"main_title"},"Statify"),r.a.createElement("button",{className:"buttonInverse logoutButton",onClick:function(){return a.logout()}},"Log out")),r.a.createElement("h2",{id:"sub_title"},"How recent do you want your statistics?"),r.a.createElement("div",{className:"button_container"},r.a.createElement("button",{className:("short_term"===this.state.time_range?"selected ":"")+"buttonDefault",onClick:function(){return a.updateTimeRange("short_term")}},"1 month"),r.a.createElement("button",{className:("medium_term"===this.state.time_range?"selected ":"")+"buttonDefault",onClick:function(){return a.updateTimeRange("medium_term")}},"3 months"),r.a.createElement("button",{className:("long_term"===this.state.time_range?"selected ":"")+"buttonDefault",onClick:function(){return a.updateTimeRange("long_term")}},"Several years")),void 0)):t=r.a.createElement("div",null,r.a.createElement(w,null)),r.a.createElement("div",{className:"App"},e,this.state.loading?r.a.createElement(N.a,{color:"#1db954",size:20}):t,r.a.createElement(O,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(25);o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.177b7ee1.chunk.js.map